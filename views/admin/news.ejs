<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>News CMS</title>
  <style>
    body{font-family:system-ui,-apple-system,sans-serif;padding:24px;background:#f7f7f7;color:#222;}
    h1{margin-top:0;}
    form{background:#fff;padding:16px;border-radius:12px;border:1px solid #ddd;margin-bottom:24px;}
    input,textarea{width:100%;padding:10px;margin:6px 0 12px;border:1px solid #ccc;border-radius:8px;}
    button{padding:10px 16px;border:none;border-radius:10px;background:#222;color:#fff;cursor:pointer;}
    .danger{background:#d33;}
    .list{background:#fff;border:1px solid #ddd;border-radius:12px;padding:12px;}
    .item{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #eee;}
    .item:last-child{border-bottom:none;}
  </style>
</head>
<body>
  <h1>News管理</h1>
  <form action="/admin/news/add" method="POST">
    <label>タイトル</label>
    <input name="title" required>
    <label>日付 (YYYY-MM-DD)</label>
    <input name="date" placeholder="2026-01-27">
    <label>本文</label>
    <textarea name="body" rows="4" required></textarea>
    <label>関連リンク (任意)</label>
    <input name="link" placeholder="https://...">
    <button type="submit">追加</button>
  </form>

  <div class="list">
    <% news.forEach(n => { %>
      <div class="item">
        <div>
          <strong><%= n.title %></strong> <small><%= n.date %></small>
        </div>
        <form action="/admin/news/delete/<%= n.id %>" method="POST" onsubmit="return confirm('削除しますか？');">
          <button class="danger" type="submit">削除</button>
        </form>
      </div>
    <% }) %>
  </div>
</body>
</html>
